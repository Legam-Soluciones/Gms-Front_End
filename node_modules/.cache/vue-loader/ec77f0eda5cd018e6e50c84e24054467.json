{"remainingRequest":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\src\\components\\Categorias\\Factura\\Facturas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\src\\components\\Categorias\\Factura\\Facturas.vue","mtime":1607101965323},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605105376825},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605105376825},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkYiB9IGZyb20gIkAvbWFpbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIEZhY3R1cmFzOiBbXSwNCiAgICAgIE5vbWJyZVBhY2llbnRlQ2xpZW50ZTogbnVsbCwNCiAgICAgIERvY051bWJlcjogbnVsbCwNCiAgICAgIEluZ3Jlc29zOiBbXQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL0VzdGUgbcOpdG9kbyBidXNjYSBsYXMgZmFjdHVyYXMgZGVwZW5kaWVuZG8gZGVsIE5vbWJyZSBvIGVsIE7Dum1lb3IgZGVsIGRvY3VtZW50bw0KICAgIFZlckZhY3R1cmEoKSB7DQogICAgICBpZiAodGhpcy5Eb2NOdW1iZXIgPT0gbnVsbCkgew0KICAgICAgICBkYi5jb2xsZWN0aW9uKCJGYWN0dXJhIikNCiAgICAgICAgICAud2hlcmUoIlBhY2llbnRlIiwgIj09IiwgdGhpcy5Ob21icmVQYWNpZW50ZUNsaWVudGUpDQogICAgICAgICAgLm9uU25hcHNob3QocmVzID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSByZXMuZG9jQ2hhbmdlcygpOw0KICAgICAgICAgICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7DQogICAgICAgICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gImFkZGVkIikgew0KICAgICAgICAgICAgICAgIHRoaXMuRmFjdHVyYXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAuLi5jaGFuZ2UuZG9jLmRhdGEoKSwNCiAgICAgICAgICAgICAgICAgIGlkOiBjaGFuZ2UuZG9jLmlkDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5GYWN0dXJhcyk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLk5vbWJyZVBhY2llbnRlQ2xpZW50ZSA9PSBudWxsKSB7DQogICAgICAgIGRiLmNvbGxlY3Rpb24oIkZhY3R1cmEiKQ0KICAgICAgICAgIC53aGVyZSgiTnVtZXJvIiwgIj09IiwgdGhpcy5Eb2NOdW1iZXIpDQogICAgICAgICAgLm9uU25hcHNob3QocmVzID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSByZXMuZG9jQ2hhbmdlcygpOw0KICAgICAgICAgICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7DQogICAgICAgICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gImFkZGVkIikgew0KICAgICAgICAgICAgICAgIHRoaXMuRmFjdHVyYXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAuLi5jaGFuZ2UuZG9jLmRhdGEoKSwNCiAgICAgICAgICAgICAgICAgIGlkOiBjaGFuZ2UuZG9jLmlkDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5GYWN0dXJhcyk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy9Fc3RlIG3DqXRvZG8gbXVlc3RyYSB0b2RhcyBsYXMgZmFjdHVyYXMNCiAgICBWZXIyKCkgew0KICAgICAgdGhpcy5GYWN0dXJhcyA9IFtdOw0KICAgICAgZGIuY29sbGVjdGlvbigiRmFjdHVyYSIpLm9uU25hcHNob3QocmVzID0+IHsNCiAgICAgICAgY29uc3QgY2hhbmdlcyA9IHJlcy5kb2NDaGFuZ2VzKCk7DQogICAgICAgIGNoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gew0KICAgICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gImFkZGVkIikgew0KICAgICAgICAgICAgdGhpcy5GYWN0dXJhcy5wdXNoKHsNCiAgICAgICAgICAgICAgLi4uY2hhbmdlLmRvYy5kYXRhKCksDQogICAgICAgICAgICAgIGlkOiBjaGFuZ2UuZG9jLmlkDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuRmFjdHVyYXMpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vRXN0ZSBtw6l0b2RvIG11ZXN0cmEgbG9zIGluZ3Jlc29zIGRlIGxhcyBmYWN0dXJhcw0KICAgIFZlckluZ3Jlc29zKCkgew0KICAgICAgdmFyIGRvY1JlZiA9IGRiLmNvbGxlY3Rpb24oIkVzdGFkaXN0aWNhcyIpLmRvYygiRXN0YWRpc3RpY2FzRmFjdHVyYSIpOw0KICAgICAgZG9jUmVmDQogICAgICAgIC5nZXQoKQ0KICAgICAgICAudGhlbihkb2MgPT4gew0KICAgICAgICAgIHRoaXMuSW5ncmVzb3MucHVzaChkb2MuZGF0YSgpKTsNCiAgICAgICAgICBjb25zb2xlLmxvZygiRG9jdW1lbnQgZGF0YToiLCB0aGlzLkluZ3Jlc29zKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGdldHRpbmcgZG9jdW1lbnQ6IiwgZXJyb3IpOw0KICAgICAgICAgIGFsZXJ0KA0KICAgICAgICAgICAgIk5vIHNlIHB1ZGllcm9uIHJlY3VwZXJhciBsb3MgZGF0b3MuIFBvciBmYXZvciByZWZyZXNjYSBsYSBww6FnaW5hIGUgaW50w6ludGFsbyBkZSBudWV2byINCiAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["Facturas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Facturas.vue","sourceRoot":"src/components/Categorias/Factura","sourcesContent":["<!-- Este archivo muestra las facturas de la base de datos -->\r\n<template>\r\n  <v-row>\r\n    <v-col cols=\"12\">\r\n      <v-card class=\"font-weight-medium mt-12 text-center subtitle-1\">\r\n        <h3>Búsqueda de Facturas</h3>\r\n        <br />\r\n\r\n        <v-form>\r\n          <v-container>\r\n            <v-row>\r\n              <v-col class=\"d-flex justify center\">\r\n                <v-text-field\r\n                  v-model=\"NombrePacienteCliente\"\r\n                  label=\"Nombre del paciente o cliente\"\r\n                  shaped\r\n                  filled\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row\r\n              ><v-col>\r\n                <v-text-field\r\n                  v-model.number=\"DocNumber\"\r\n                  label=\"Número del documento\"\r\n                  shaped\r\n                  filled\r\n                ></v-text-field></v-col\r\n            ></v-row>\r\n            <v-row class=\"d-flex justify-center\">\r\n              <v-btn @click=\"Ver2()\">Facturar</v-btn>\r\n              <v-btn @click=\"VerIngresos()\">Ver Ingresos</v-btn>\r\n            </v-row>\r\n          </v-container>\r\n        </v-form>\r\n      </v-card>\r\n    </v-col>\r\n    <v-col cols=\"12\">\r\n      <v-card-text>\r\n        <!-- Esta tabla contiene la información de las distintas facturas. -->\r\n        <v-simple-table>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">\r\n                Acciones\r\n              </th>\r\n              <!-- <v-icon color=\"red\">error</v-icon>\r\n                 -->\r\n              <th class=\"text-center\">\r\n                Tipo\r\n              </th>\r\n              <th class=\"text-center\">\r\n                N°\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Paciente-Cliente\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Fecha\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Estado de Pago\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Estado de Hacienda\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <v-icon>email</v-icon>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Monto\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Saldo\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"text-center\">\r\n            <tr v-for=\"Factura in Facturas\" :key=\"Factura.Numero\">\r\n              <td>\r\n                <v-icon>menu</v-icon>\r\n              </td>\r\n              <td>\r\n                {{ Factura.Tipo }}\r\n              </td>\r\n              <td>\r\n                {{ Factura.Numero }}\r\n              </td>\r\n              <td>\r\n                {{ Factura.Paciente }}\r\n              </td>\r\n              <td>\r\n                {{ Factura.Fecha }}\r\n              </td>\r\n              <td\r\n                class=\"text-center green--text ml-4\"\r\n                v-if=\"Factura.EstadodePago == true\"\r\n              >\r\n                Pagado\r\n              </td>\r\n              <td class=\"red--text\" v-if=\"Factura.EstadodePago == false\">\r\n                Pendiente\r\n              </td>\r\n              <td v-if=\"Factura.EstadodeHacienda == true\" class=\"green--text\">\r\n                <v-icon small color=\"green\">check</v-icon>\r\n                Aceptado\r\n              </td>\r\n              <td\r\n                v-if=\"Factura.EstadodeHacienda == false\"\r\n                class=\"red--text text-center\"\r\n              >\r\n                <v-icon small color=\"red\">error</v-icon>\r\n                Rechazado\r\n              </td>\r\n              <td>\r\n                <v-icon color=\"green\" v-if=\"Factura.Correo == true\"\r\n                  >check</v-icon\r\n                >\r\n                <v-icon color=\"red\" v-if=\"Factura.Correo == false\"\r\n                  >error</v-icon\r\n                >\r\n              </td>\r\n              <td>\r\n                {{ Factura.Monto }}\r\n              </td>\r\n              <td v-if=\"Factura.Saldo > 0\" class=\"green--text text-center\">\r\n                {{ Factura.Saldo }}\r\n              </td>\r\n              <td v-if=\"Factura.Saldo < 0\" class=\"red--text text-center\">\r\n                {{ Factura.Saldo }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </v-simple-table>\r\n      </v-card-text>\r\n    </v-col>\r\n    <!-- Esta parte muestra los ingresos dependiendo del medio de pago de las distintas facturas -->\r\n    <v-col>\r\n      <v-card\r\n        flat\r\n        class=\"d-flex text-center align-center\"\r\n        width=\"1400\"\r\n        height=\"300\"\r\n        v-for=\"Ingreso in Ingresos\"\r\n        :key=\"Ingreso.id\"\r\n      >\r\n        <v-row class=\"d-flex justify-center\">\r\n          <v-card class=\"ma-2\" height=\"125\" width=\"150\" outlined>\r\n            <v-card-text>Cheque:</v-card-text>\r\n            {{ Ingreso.Cheque }}\r\n          </v-card>\r\n          <v-card class=\"ma-2\" height=\"125\" width=\"150\" outlined>\r\n            <v-card-text>Efectivo:</v-card-text>\r\n            {{ Ingreso.Efectivo }}\r\n          </v-card>\r\n          <v-card class=\"ma-2\" height=\"125\" width=\"150\" outlined>\r\n            <v-card-text>Tarjeta:</v-card-text>\r\n            {{ Ingreso.Tarjeta }}\r\n          </v-card>\r\n          <v-card class=\"ma-2\" height=\"125\" width=\"150\" outlined>\r\n            <v-card-text>Transferencias:</v-card-text>\r\n            {{ Ingreso.TransferenciaDeposito }}\r\n          </v-card>\r\n          <v-card class=\"ma-2\" height=\"125\" width=\"150\" outlined>\r\n            <v-card-text>Total:</v-card-text>\r\n            {{ Ingreso.Total }}\r\n          </v-card>\r\n        </v-row>\r\n      </v-card>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n<script>\r\nimport { db } from \"@/main\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      Facturas: [],\r\n      NombrePacienteCliente: null,\r\n      DocNumber: null,\r\n      Ingresos: []\r\n    };\r\n  },\r\n  methods: {\r\n    //Este método busca las facturas dependiendo del Nombre o el Númeor del documento\r\n    VerFactura() {\r\n      if (this.DocNumber == null) {\r\n        db.collection(\"Factura\")\r\n          .where(\"Paciente\", \"==\", this.NombrePacienteCliente)\r\n          .onSnapshot(res => {\r\n            const changes = res.docChanges();\r\n            changes.forEach(change => {\r\n              if (change.type === \"added\") {\r\n                this.Facturas.push({\r\n                  ...change.doc.data(),\r\n                  id: change.doc.id\r\n                });\r\n                console.log(this.Facturas);\r\n              }\r\n            });\r\n          });\r\n      } else if (this.NombrePacienteCliente == null) {\r\n        db.collection(\"Factura\")\r\n          .where(\"Numero\", \"==\", this.DocNumber)\r\n          .onSnapshot(res => {\r\n            const changes = res.docChanges();\r\n            changes.forEach(change => {\r\n              if (change.type === \"added\") {\r\n                this.Facturas.push({\r\n                  ...change.doc.data(),\r\n                  id: change.doc.id\r\n                });\r\n                console.log(this.Facturas);\r\n              }\r\n            });\r\n          });\r\n      }\r\n    },\r\n    //Este método muestra todas las facturas\r\n    Ver2() {\r\n      this.Facturas = [];\r\n      db.collection(\"Factura\").onSnapshot(res => {\r\n        const changes = res.docChanges();\r\n        changes.forEach(change => {\r\n          if (change.type === \"added\") {\r\n            this.Facturas.push({\r\n              ...change.doc.data(),\r\n              id: change.doc.id\r\n            });\r\n            console.log(this.Facturas);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    //Este método muestra los ingresos de las facturas\r\n    VerIngresos() {\r\n      var docRef = db.collection(\"Estadisticas\").doc(\"EstadisticasFactura\");\r\n      docRef\r\n        .get()\r\n        .then(doc => {\r\n          this.Ingresos.push(doc.data());\r\n          console.log(\"Document data:\", this.Ingresos);\r\n        })\r\n        .catch(function(error) {\r\n          console.log(\"Error getting document:\", error);\r\n          alert(\r\n            \"No se pudieron recuperar los datos. Por favor refresca la página e inténtalo de nuevo\"\r\n          );\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}