{"remainingRequest":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\src\\components\\Categorias\\Factura\\Presupuestos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\src\\components\\Categorias\\Factura\\Presupuestos.vue","mtime":1607102083406},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605105376825},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605105376825},{"path":"C:\\Users\\Digital\\Desktop\\Nuevos Programadores\\GMS\\gms-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkYiB9IGZyb20gIkAvbWFpbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIFByZXN1cHVlc3RvczogW10sDQogICAgICBOb21icmVQYWNpZW50ZUNsaWVudGU6IG51bGwsDQogICAgICBEb2NOdW1iZXI6IG51bGwsDQogICAgICBJbmdyZXNvczogW10NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy9Fc3RlIG3DqXRvZG8gZXMgZWwgcXVlIHBlcm1pdGUgYnVzY2FyIGxvcyBwcmVzdXB1ZXN0b3MgcG9yIG5vbWJyZQ0KICAgIFZlckZhY3R1cmEoKSB7DQogICAgICBpZiAodGhpcy5Eb2NOdW1iZXIgPT0gbnVsbCkgew0KICAgICAgICBkYi5jb2xsZWN0aW9uKCJQcmVzdXB1ZXN0b3MiKQ0KICAgICAgICAgIC53aGVyZSgiUGFjaWVudGUiLCAiPT0iLCB0aGlzLk5vbWJyZVBhY2llbnRlQ2xpZW50ZSkNCiAgICAgICAgICAub25TbmFwc2hvdChyZXMgPT4gew0KICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHJlcy5kb2NDaGFuZ2VzKCk7DQogICAgICAgICAgICBjaGFuZ2VzLmZvckVhY2goY2hhbmdlID0+IHsNCiAgICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSAiYWRkZWQiKSB7DQogICAgICAgICAgICAgICAgdGhpcy5GYWN0dXJhcy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgIC4uLmNoYW5nZS5kb2MuZGF0YSgpLA0KICAgICAgICAgICAgICAgICAgaWQ6IGNoYW5nZS5kb2MuaWQNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLkZhY3R1cmFzKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuTm9tYnJlUGFjaWVudGVDbGllbnRlID09IG51bGwpIHsNCiAgICAgICAgZGIuY29sbGVjdGlvbigiUHJlc3VwdWVzdG9zIikNCiAgICAgICAgICAud2hlcmUoIk51bWVybyIsICI9PSIsIHRoaXMuRG9jTnVtYmVyKQ0KICAgICAgICAgIC5vblNuYXBzaG90KHJlcyA9PiB7DQogICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gcmVzLmRvY0NoYW5nZXMoKTsNCiAgICAgICAgICAgIGNoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gew0KICAgICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09ICJhZGRlZCIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLkZhY3R1cmFzLnB1c2goew0KICAgICAgICAgICAgICAgICAgLi4uY2hhbmdlLmRvYy5kYXRhKCksDQogICAgICAgICAgICAgICAgICBpZDogY2hhbmdlLmRvYy5pZA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuRmFjdHVyYXMpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIFZlcjIoKSB7DQogICAgICB0aGlzLlByZXN1cHVlc3RvcyA9IFtdOw0KICAgICAgZGIuY29sbGVjdGlvbigiUHJlc3VwdWVzdG9zIikub25TbmFwc2hvdChyZXMgPT4gew0KICAgICAgICBjb25zdCBjaGFuZ2VzID0gcmVzLmRvY0NoYW5nZXMoKTsNCiAgICAgICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7DQogICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSAiYWRkZWQiKSB7DQogICAgICAgICAgICB0aGlzLlByZXN1cHVlc3Rvcy5wdXNoKHsNCiAgICAgICAgICAgICAgLi4uY2hhbmdlLmRvYy5kYXRhKCksDQogICAgICAgICAgICAgIGlkOiBjaGFuZ2UuZG9jLmlkDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUHJlc3VwdWVzdG9zKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Presupuestos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Presupuestos.vue","sourceRoot":"src/components/Categorias/Factura","sourcesContent":["<!-- Al igual que el archivo anterior, esta página muestra los presupuestos dependiendo del nombre o el número-->\r\n<template>\r\n  <v-row>\r\n    <v-col cols=\"12\">\r\n      <v-card class=\"font-weight-medium mt-12 text-center subtitle-1\">\r\n        <h3>Búsqueda de Presupuestos</h3>\r\n        <br />\r\n\r\n        <v-form>\r\n          <v-container>\r\n            <v-row>\r\n              <v-col class=\"d-flex justify center\">\r\n                <v-text-field\r\n                  v-model=\"NombrePacienteCliente\"\r\n                  label=\"Nombre del paciente o cliente\"\r\n                  shaped\r\n                  filled\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row\r\n              ><v-col>\r\n                <v-text-field\r\n                  v-model.number=\"DocNumber\"\r\n                  label=\"Número del documento\"\r\n                  shaped\r\n                  filled\r\n                ></v-text-field></v-col\r\n            ></v-row>\r\n            <v-row class=\"d-flex justify-center\">\r\n              <v-btn @click=\"Ver2()\">Facturar</v-btn>\r\n              <v-btn @click=\"VerIngresos()\">Ver Ingresos</v-btn>\r\n            </v-row>\r\n          </v-container>\r\n        </v-form>\r\n      </v-card>\r\n    </v-col>\r\n    <v-col cols=\"12\">\r\n      <v-card-text>\r\n        <v-simple-table>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">\r\n                Acciones\r\n              </th>\r\n              <!-- <v-icon color=\"red\">error</v-icon>\r\n                 -->\r\n              <th class=\"text-center\">\r\n                N°\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Paciente-Cliente\r\n              </th>\r\n              <th class=\"text-center\">\r\n                Fecha\r\n              </th>\r\n\r\n              <th class=\"text-center\">\r\n                Monto\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"text-center\">\r\n            <tr v-for=\"Presupuesto in Presupuestos\" :key=\"Presupuesto.Numero\">\r\n              <td>\r\n                <v-icon>menu</v-icon>\r\n              </td>\r\n              <td>\r\n                {{ Presupuesto.Numero }}\r\n              </td>\r\n              <td>\r\n                {{ Presupuesto.Paciente }}\r\n              </td>\r\n              <td>\r\n                {{ Presupuesto.Fecha }}\r\n              </td>\r\n              <td>\r\n                {{ Presupuesto.Monto }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </v-simple-table>\r\n      </v-card-text>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n<script>\r\nimport { db } from \"@/main\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      Presupuestos: [],\r\n      NombrePacienteCliente: null,\r\n      DocNumber: null,\r\n      Ingresos: []\r\n    };\r\n  },\r\n  methods: {\r\n    //Este método es el que permite buscar los presupuestos por nombre\r\n    VerFactura() {\r\n      if (this.DocNumber == null) {\r\n        db.collection(\"Presupuestos\")\r\n          .where(\"Paciente\", \"==\", this.NombrePacienteCliente)\r\n          .onSnapshot(res => {\r\n            const changes = res.docChanges();\r\n            changes.forEach(change => {\r\n              if (change.type === \"added\") {\r\n                this.Facturas.push({\r\n                  ...change.doc.data(),\r\n                  id: change.doc.id\r\n                });\r\n                console.log(this.Facturas);\r\n              }\r\n            });\r\n          });\r\n      } else if (this.NombrePacienteCliente == null) {\r\n        db.collection(\"Presupuestos\")\r\n          .where(\"Numero\", \"==\", this.DocNumber)\r\n          .onSnapshot(res => {\r\n            const changes = res.docChanges();\r\n            changes.forEach(change => {\r\n              if (change.type === \"added\") {\r\n                this.Facturas.push({\r\n                  ...change.doc.data(),\r\n                  id: change.doc.id\r\n                });\r\n                console.log(this.Facturas);\r\n              }\r\n            });\r\n          });\r\n      }\r\n    },\r\n    Ver2() {\r\n      this.Presupuestos = [];\r\n      db.collection(\"Presupuestos\").onSnapshot(res => {\r\n        const changes = res.docChanges();\r\n        changes.forEach(change => {\r\n          if (change.type === \"added\") {\r\n            this.Presupuestos.push({\r\n              ...change.doc.data(),\r\n              id: change.doc.id\r\n            });\r\n            console.log(this.Presupuestos);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}