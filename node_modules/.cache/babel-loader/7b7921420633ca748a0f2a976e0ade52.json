{"remainingRequest":"C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\src\\components\\Categorias\\Documentos\\Firma.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\src\\components\\Categorias\\Documentos\\Firma.js","mtime":1604329931753},{"path":"C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Digital\\Desktop\\GMS_\\PROYECTO\\gms-frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkM6L1VzZXJzL0RpZ2l0YWwvRGVza3RvcC9HTVNfL1BST1lFQ1RPL2dtcy1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgU2lnbmF0dXJlUGFkIGZyb20gIi4vc2lnbmF0dXJlcGFkbWluLmpzIjsKVnVlLmNvbXBvbmVudCgidnVlLXNpZ25hdHVyZSIsIHsKICB0ZW1wbGF0ZTogIiN2dWUtc2lnbmF0dXJlIiwKICBwcm9wczogewogICAgc2lnT3B0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogInJnYigyNTUsMjU1LDI1NSkiLAogICAgICAgICAgcGVuQ29sb3I6ICJyZ2IoMCwgMCwgMCkiCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiMTAwJSIKICAgIH0sCiAgICBoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIjEwMCUiCiAgICB9LAogICAgY2xlYXJPblJlc2l6ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNpZzogZnVuY3Rpb24gc2lnKCkge30sCiAgICAgIG9wdGlvbjogewogICAgICAgIGJhY2tncm91bmRDb2xvcjogInJnYigyNTUsMjU1LDI1NSkiLAogICAgICAgIHBlbkNvbG9yOiAicmdiKDAsIDAsIDApIgogICAgICB9LAogICAgICB1aWQ6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy51aWQgPSAiY2FudmFzIiArIF90aGlzLl91aWQ7CiAgICB2YXIgc2lnT3B0aW9ucyA9IE9iamVjdC5rZXlzKF90aGlzLnNpZ09wdGlvbik7CgogICAgZm9yICh2YXIgX2kgPSAwLCBfc2lnT3B0aW9ucyA9IHNpZ09wdGlvbnM7IF9pIDwgX3NpZ09wdGlvbnMubGVuZ3RoOyBfaSsrKSB7CiAgICAgIHZhciBpdGVtID0gX3NpZ09wdGlvbnNbX2ldOwogICAgICBfdGhpcy5vcHRpb25baXRlbV0gPSBfdGhpcy5zaWdPcHRpb25baXRlbV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmF3OiBmdW5jdGlvbiBkcmF3KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLnVpZCk7CiAgICAgIF90aGlzLnNpZyA9IG5ldyBTaWduYXR1cmVQYWQoY2FudmFzLCBfdGhpcy5vcHRpb24pOwoKICAgICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgewogICAgICAgIHZhciB1cmw7CgogICAgICAgIGlmICghX3RoaXMuaXNFbXB0eSgpKSB7CiAgICAgICAgICB1cmwgPSBfdGhpcy5zYXZlKCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcmF0aW8gPSBNYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLCAxKTsKICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGggKiByYXRpbzsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodCAqIHJhdGlvOwogICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLnNjYWxlKHJhdGlvLCByYXRpbyk7CgogICAgICAgIF90aGlzLmNsZWFyKCk7CgogICAgICAgICFfdGhpcy5jbGVhck9uUmVzaXplICYmIHVybCAhPT0gdW5kZWZpbmVkICYmIF90aGlzLmZyb21EYXRhVVJMKHVybCk7CiAgICAgIH0KCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVDYW52YXMpOwogICAgICByZXNpemVDYW52YXMoKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5zaWcuY2xlYXIoKTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGZvcm1hdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZvcm1hdCA/IF90aGlzLnNpZy50b0RhdGFVUkwoZm9ybWF0KSA6IF90aGlzLnNpZy50b0RhdGFVUkwoKTsgLy8gc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCgpOyAvLyBzYXZlIGltYWdlIGFzIFBORwogICAgICAvLyBzaWduYXR1cmVQYWQudG9EYXRhVVJMKCJpbWFnZS9qcGVnIik7IC8vIHNhdmUgaW1hZ2UgYXMgSlBFRwogICAgICAvLyBzaWduYXR1cmVQYWQudG9EYXRhVVJMKCJpbWFnZS9zdmcreG1sIik7IC8vIHNhdmUgaW1hZ2UgYXMgU1ZHCiAgICB9LAogICAgZnJvbURhdGFVUkw6IGZ1bmN0aW9uIGZyb21EYXRhVVJMKHVybCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuc2lnLmZyb21EYXRhVVJMKHVybCk7CiAgICB9LAogICAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfdGhpcy5zaWcuaXNFbXB0eSgpOwogICAgfSwKICAgIHVuZG86IGZ1bmN0aW9uIHVuZG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IF90aGlzLnNpZy50b0RhdGEoKTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgZGF0YS5wb3AoKTsKCiAgICAgICAgX3RoaXMuc2lnLmZyb21EYXRhKGRhdGEpOwogICAgICB9CiAgICB9LAogICAgYWRkV2F0ZXJNYXJrOiBmdW5jdGlvbiBhZGRXYXRlck1hcmsoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCEoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpID09ICJbb2JqZWN0IE9iamVjdF0iKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgT2JqZWN0LCBnb3QgIiArIF90eXBlb2YoZGF0YSkgKyAiLiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB2Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMudWlkKTsKICAgICAgICB2YXIgdGV4dERhdGEgPSB7CiAgICAgICAgICB0ZXh0OiBkYXRhLnRleHQgfHwgIiIsCiAgICAgICAgICB4OiBkYXRhLnggfHwgMjAsCiAgICAgICAgICB5OiBkYXRhLnkgfHwgMjAsCiAgICAgICAgICBzeDogZGF0YS5zeCB8fCA0MCwKICAgICAgICAgIHN5OiBkYXRhLnN5IHx8IDQwCiAgICAgICAgfTsKICAgICAgICB2YXIgY3R4ID0gdkNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIGN0eC5mb250ID0gZGF0YS5mb250IHx8ICIyMHB4IHNhbnMtc2VyaWYiOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBkYXRhLmZpbGxTdHlsZSB8fCAiIzMzMyI7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZGF0YS5zdHJva2VTdHlsZSB8fCAiIzMzMyI7CgogICAgICAgIGlmIChkYXRhLnN0eWxlID09ICJhbGwiKSB7CiAgICAgICAgICBjdHguZmlsbFRleHQodGV4dERhdGEudGV4dCwgdGV4dERhdGEueCwgdGV4dERhdGEueSk7CiAgICAgICAgICBjdHguc3Ryb2tlVGV4dCh0ZXh0RGF0YS50ZXh0LCB0ZXh0RGF0YS5zeCwgdGV4dERhdGEuc3gpOwogICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdHlsZSA9PSAic3Ryb2tlIikgewogICAgICAgICAgY3R4LnN0cm9rZVRleHQodGV4dERhdGEudGV4dCwgdGV4dERhdGEuc3gsIHRleHREYXRhLnN4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHREYXRhLnRleHQsIHRleHREYXRhLngsIHRleHREYXRhLnkpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuc2lnLl9pc0VtcHR5ID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuZHJhdygpOwogICAgfSk7CiAgfQp9KTsKbmV3IFZ1ZSh7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wdGlvbjogewogICAgICAgIHBlbkNvbG9yOiAicmdiKDAsIDAsIDApIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwbmcgPSBfdGhpcy4kcmVmcy5zaWduYXR1cmUuc2F2ZSgpOwoKICAgICAgdmFyIGpwZWcgPSBfdGhpcy4kcmVmcy5zaWduYXR1cmUuc2F2ZSgiaW1hZ2UvanBlZyIpOwoKICAgICAgdmFyIHN2ZyA9IF90aGlzLiRyZWZzLnNpZ25hdHVyZS5zYXZlKCJpbWFnZS9zdmcreG1sIik7CgogICAgICBjb25zb2xlLmxvZyhwbmcpOwogICAgICBjb25zb2xlLmxvZyhqcGVnKTsKICAgICAgY29uc29sZS5sb2coc3ZnKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy4kcmVmcy5zaWduYXR1cmUuY2xlYXIoKTsKICAgIH0KICB9Cn0pLiRtb3VudCgiI2FwcCIpOw=="},{"version":3,"sources":["C:/Users/Digital/Desktop/GMS_/PROYECTO/gms-frontend/src/components/Categorias/Documentos/Firma.js"],"names":["Vue","SignaturePad","component","template","props","sigOption","type","Object","default","backgroundColor","penColor","w","String","h","clearOnResize","Boolean","data","sig","option","uid","created","_this","_uid","sigOptions","keys","item","methods","draw","canvas","document","getElementById","resizeCanvas","url","isEmpty","save","ratio","Math","max","window","devicePixelRatio","width","offsetWidth","height","offsetHeight","getContext","scale","clear","undefined","fromDataURL","addEventListener","format","toDataURL","undo","toData","pop","fromData","addWaterMark","prototype","toString","call","Error","vCanvas","textData","text","x","y","sx","sy","ctx","font","fillStyle","strokeStyle","style","fillText","strokeText","_isEmpty","mounted","$nextTick","png","$refs","signature","jpeg","svg","console","log","$mount"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport SignaturePad from \"./signaturepadmin.js\";\r\n\r\nVue.component(\"vue-signature\", {\r\n  template: \"#vue-signature\",\r\n  props: {\r\n    sigOption: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          backgroundColor: \"rgb(255,255,255)\",\r\n          penColor: \"rgb(0, 0, 0)\"\r\n        };\r\n      }\r\n    },\r\n    w: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    h: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    clearOnResize: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      sig: () => {},\r\n      option: {\r\n        backgroundColor: \"rgb(255,255,255)\",\r\n        penColor: \"rgb(0, 0, 0)\"\r\n      },\r\n      uid: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    this.uid = \"canvas\" + _this._uid;\r\n    var sigOptions = Object.keys(_this.sigOption);\r\n    for (var item of sigOptions) {\r\n      _this.option[item] = _this.sigOption[item];\r\n    }\r\n  },\r\n  methods: {\r\n    draw() {\r\n      var _this = this;\r\n      var canvas = document.getElementById(_this.uid);\r\n      _this.sig = new SignaturePad(canvas, _this.option);\r\n      function resizeCanvas() {\r\n        var url;\r\n        if (!_this.isEmpty()) {\r\n          url = _this.save();\r\n        }\r\n        var ratio = Math.max(window.devicePixelRatio || 1, 1);\r\n        canvas.width = canvas.offsetWidth * ratio;\r\n        canvas.height = canvas.offsetHeight * ratio;\r\n        canvas.getContext(\"2d\").scale(ratio, ratio);\r\n        _this.clear();\r\n        !_this.clearOnResize && url !== undefined && _this.fromDataURL(url);\r\n      }\r\n      window.addEventListener(\"resize\", resizeCanvas);\r\n      resizeCanvas();\r\n    },\r\n    clear() {\r\n      var _this = this;\r\n      _this.sig.clear();\r\n    },\r\n    save(format) {\r\n      var _this = this;\r\n      return format ? _this.sig.toDataURL(format) : _this.sig.toDataURL();\r\n      // signaturePad.toDataURL(); // save image as PNG\r\n      // signaturePad.toDataURL(\"image/jpeg\"); // save image as JPEG\r\n      // signaturePad.toDataURL(\"image/svg+xml\"); // save image as SVG\r\n    },\r\n    fromDataURL(url) {\r\n      var _this = this;\r\n      _this.sig.fromDataURL(url);\r\n    },\r\n    isEmpty() {\r\n      var _this = this;\r\n      return _this.sig.isEmpty();\r\n    },\r\n    undo() {\r\n      var _this = this;\r\n      var data = _this.sig.toData();\r\n      if (data) {\r\n        data.pop();\r\n        _this.sig.fromData(data);\r\n      }\r\n    },\r\n    addWaterMark(data) {\r\n      var _this = this;\r\n      if (!(Object.prototype.toString.call(data) == \"[object Object]\")) {\r\n        throw new Error(\"Expected Object, got \" + typeof data + \".\");\r\n      } else {\r\n        var vCanvas = document.getElementById(_this.uid);\r\n        var textData = {\r\n          text: data.text || \"\",\r\n          x: data.x || 20,\r\n          y: data.y || 20,\r\n          sx: data.sx || 40,\r\n          sy: data.sy || 40\r\n        };\r\n\r\n        var ctx = vCanvas.getContext(\"2d\");\r\n        ctx.font = data.font || \"20px sans-serif\";\r\n        ctx.fillStyle = data.fillStyle || \"#333\";\r\n        ctx.strokeStyle = data.strokeStyle || \"#333\";\r\n        if (data.style == \"all\") {\r\n          ctx.fillText(textData.text, textData.x, textData.y);\r\n          ctx.strokeText(textData.text, textData.sx, textData.sx);\r\n        } else if (data.style == \"stroke\") {\r\n          ctx.strokeText(textData.text, textData.sx, textData.sx);\r\n        } else {\r\n          ctx.fillText(textData.text, textData.x, textData.y);\r\n        }\r\n        _this.sig._isEmpty = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    var _this = this;\r\n    this.$nextTick(() => {\r\n      _this.draw();\r\n    });\r\n  }\r\n});\r\nnew Vue({\r\n  data() {\r\n    return {\r\n      option: {\r\n        penColor: \"rgb(0, 0, 0)\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    save() {\r\n      var _this = this;\r\n      var png = _this.$refs.signature.save();\r\n      var jpeg = _this.$refs.signature.save(\"image/jpeg\");\r\n      var svg = _this.$refs.signature.save(\"image/svg+xml\");\r\n      console.log(png);\r\n      console.log(jpeg);\r\n      console.log(svg);\r\n    },\r\n    clear() {\r\n      var _this = this;\r\n      _this.$refs.signature.clear();\r\n    }\r\n  }\r\n}).$mount(\"#app\");\r\n"]}]}